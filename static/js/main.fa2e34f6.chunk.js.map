{"version":3,"sources":["utils/decoding.ts","DecodedData.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["MULTISEND_SIGNATURES","defaultInterface","Interface","loadSignatures","data","a","length","undefined","signature","slice","axios","get","lookup","results","map","sig","text_signature","decodeData","functionSignature","indexOf","handleSpecialSignatures","functionFragment","FunctionFragment","fromString","decoded","decodeFunctionData","processDecoded","params","label","sigHash","getSighash","toLocaleLowerCase","stubMultisend","decodeSafeTransaction","console","error","param","value","multisendData","canCollapse","signatures","decodeMultisend","decodeDeprecatedMultisend","Error","index","operation","parseInt","to","BigNumber","from","toHexString","dataLength","push","Accordion","withStyles","root","border","boxShadow","borderBottom","display","MuiAccordion","AccordionSummary","backgroundColor","marginBottom","minHeight","MuiAccordionSummary","AccordionDetails","theme","flexDirection","MuiAccordionDetails","useStyles","makeStyles","formControl","margin","spacing","minWidth","selectEmpty","marginTop","values","padding","wordBreak","DecodedParam","hideValue","classes","useState","collapseValue","setCollapsedValue","decodedData","setDecodedData","selectedSignature","setSelectedSignature","loadDecodedData","useCallback","selectSignature","event","target","useEffect","toString","Link","onClick","color","className","FormControl","InputLabel","Select","onChange","MenuItem","DecodedData","content","input","width","App","history","useHistory","query","URLSearchParams","useLocation","search","txData","setTxData","dataInfo","setDataInfo","loadDataInfo","log","queryData","updateTxData","replace","pathname","prefersDarkMode","useMediaQuery","React","useMemo","createMuiTheme","palette","type","primary","blue","ThemeProvider","CssBaseline","href","TextField","placeholder","e","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fa2e34f6.chunk.js","sourcesContent":["import axios from 'axios';\nimport { FunctionFragment, Interface, Result } from '@ethersproject/abi';\nimport { BigNumber } from \"@ethersproject/bignumber\";\n\nconst MULTISEND_SIGNATURES = [\n    \"Multisend\",\n    \"Deprecated Multisend\"\n]\n\nexport interface DecodedValue {\n    label?: string,\n    value: any,\n    signatures?: ReadonlyArray<string>,\n    decoded?: Decoded,\n    canCollapse?: boolean\n}\n\nexport interface Decoded {\n    label: string,\n    params: DecodedValue[]\n}\n\n\nconst signatureLookupUrl = \"https://www.4byte.directory/api/v1/signatures/?ordering=created_at&hex_signature=\"\nconst defaultInterface = new Interface([])\n\nexport const loadSignatures = async (data: string): Promise<string[] | undefined> => {\n    if (!data || data.length == 0) return undefined\n    const signature = data.slice(0, 10)\n    const lookup = await axios.get(signatureLookupUrl + signature)\n    if (lookup.data.results.length == 0) return undefined\n    return lookup.data.results.map((sig: any) => sig.text_signature)\n}\n\nexport const decodeData = async (functionSignature: string, data: string): Promise<Decoded | undefined> => {\n    if (MULTISEND_SIGNATURES.indexOf(functionSignature) >= 0) {\n        return await handleSpecialSignatures(functionSignature, data)\n    }\n    const functionFragment = FunctionFragment.fromString(functionSignature)\n    const decoded = defaultInterface.decodeFunctionData(functionFragment, data)\n    const params = await processDecoded(functionFragment, decoded)\n    return {\n        label: functionSignature,\n        params\n    }\n}\n\nconst processDecoded = async (functionFragment: FunctionFragment, decoded: Result): Promise<DecodedValue[]> => {\n    const sigHash = Interface.getSighash(functionFragment).toLocaleLowerCase()\n    if (sigHash === \"0x8d80ff0a\" && decoded.length == 1) {\n        return [stubMultisend(decoded[0])]\n    }\n    if (sigHash === \"0x6a761202\" && decoded.length == 10) {\n        try { return [await decodeSafeTransaction(decoded)] } catch (e) { console.error(e) }\n    }\n    return decoded.map((param) => { return { value: param } })\n}\n\nconst stubMultisend = (multisendData: string): DecodedValue => {\n    return {\n        value: multisendData,\n        canCollapse: true,\n        signatures: MULTISEND_SIGNATURES\n    }\n}\n\nconst handleSpecialSignatures = async (functionSignature: string, data: string): Promise<Decoded | undefined> => {\n    switch (functionSignature) {\n        case \"Multisend\":\n            return await decodeMultisend(data)\n        case \"Deprecated Multisend\":\n            return await decodeDeprecatedMultisend(data)\n        default:\n            throw Error(\"Unknown function signature: \" + functionSignature)\n    }\n}\n\nconst decodeMultisend = async (multisendData: string): Promise<Decoded> => {\n    let index = 2;\n    const params: DecodedValue[] = []\n    while (index < multisendData.length) {\n        const operation = parseInt(multisendData.slice(index, index += 2), 16)\n        const to = \"0x\" + multisendData.slice(index, index += 40)\n        const value = BigNumber.from(\"0x\" + multisendData.slice(index, index += 64)).toHexString()\n        const dataLength = parseInt(multisendData.slice(index, index += 64), 16) * 2\n        const data = \"0x\" + multisendData.slice(index, index += dataLength)\n        const signatures = await loadSignatures(data)\n        params.push({\n            value: undefined,\n            decoded: {\n                label: \"Transaction \" + (params.length + 1),\n                params: [\n                    { label: \"Operation\", value: operation },\n                    { label: \"To\", value: to },\n                    { label: \"Value\", value: value },\n                    { label: \"Data\", value: data, signatures, canCollapse: true }\n                ]\n            }\n        })\n    }\n    return {\n        label: \"Multisend transactions\",\n        params\n    }\n}\n\nconst decodeDeprecatedMultisend = async (multisendData: string): Promise<Decoded> => {\n    let index = 2;\n    const params: DecodedValue[] = []\n    while (index < multisendData.length) {\n        const operation = parseInt(multisendData.slice(index, index += 64), 16)\n        const to = \"0x\" + multisendData.slice(index + 24, index += 64)\n        const value = BigNumber.from(\"0x\" + multisendData.slice(index, index += 64)).toHexString()\n        const dataLength = parseInt(multisendData.slice(index+=64, index += 64), 16) * 2\n        const data = \"0x\" + multisendData.slice(index, index += dataLength)\n        const signatures = await loadSignatures(data)\n        // Add padding\n        index += (64 - dataLength % 64)\n        params.push({\n            value: undefined,\n            decoded: {\n                label: \"Transaction \" + (params.length + 1),\n                params: [\n                    { label: \"Operation\", value: operation },\n                    { label: \"To\", value: to },\n                    { label: \"Value\", value: value },\n                    { label: \"Data\", value: data, signatures, canCollapse: true }\n                ]\n            }\n        })\n    }\n    return {\n        label: \"Deprecated Multisend transactions\",\n        params\n    }\n}\n\nconst decodeSafeTransaction = async (decoded: Result): Promise<DecodedValue> => {\n    return {\n        value: undefined,\n        decoded: {\n            label: \"Safe transaction\",\n            params: [\n                { label: \"To\", value: decoded[0] },\n                { label: \"Value\", value: decoded[1] },\n                { label: \"Data\", value: decoded[2], signatures: await loadSignatures(decoded[2]), canCollapse: true },\n                { label: \"Operation\", value: decoded[3] },\n                { label: \"SafeTxGas\", value: decoded[4] },\n                { label: \"BaseGas\", value: decoded[5] },\n                { label: \"GasPrice\", value: decoded[6] },\n                { label: \"GasToken\", value: decoded[7] },\n                { label: \"RefundReceiver\", value: decoded[8] },\n                { label: \"Signatures\", value: decoded[9] },\n            ]\n        }\n    }\n}","import React, { useCallback, useEffect, useState } from 'react';\nimport MuiAccordion from '@material-ui/core/Accordion';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { Decoded, DecodedValue, decodeData } from './utils/decoding';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Link from '@material-ui/core/Link';\n\nconst Accordion = withStyles({\n    root: {\n        border: '1px solid rgba(0, 0, 0, .125)',\n        boxShadow: 'none',\n        '&:not(:last-child)': {\n            borderBottom: 0,\n        },\n        '&:before': {\n            display: 'none',\n        },\n    },\n})(MuiAccordion);\n\nconst AccordionSummary = withStyles({\n    root: {\n        backgroundColor: 'rgba(0, 0, 0, .03)',\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\n        marginBottom: -1,\n        minHeight: 56,\n        '&$expanded': {\n            minHeight: 56,\n        },\n    },\n})(MuiAccordionSummary);\n\nconst AccordionDetails = withStyles((theme) => ({\n    root: {\n        flexDirection: \"column\"\n    },\n}))(MuiAccordionDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    selectEmpty: {\n        marginTop: theme.spacing(2),\n    },\n    values: {\n        padding: \"4px 16px 4px 16px\",\n        display: \"block\",\n        wordBreak: \"break-all\",\n    }\n}));\n\ninterface Props {\n    decoded: Decoded,\n}\n\nexport const DecodedParam: React.FC<{ param: DecodedValue, hideValue?: boolean }> = ({ param, hideValue }) => {\n    const classes = useStyles()\n    const [collapseValue, setCollapsedValue] = useState(false)\n    const [decodedData, setDecodedData] = useState<Decoded | undefined>(undefined)\n    const [selectedSignature, setSelectedSignature] = useState<string>(\"\")\n    const loadDecodedData = useCallback(async (selectedSignature: string) => {\n        try {\n            setDecodedData(await decodeData(selectedSignature, param.value))\n        } catch (e) {\n            setDecodedData(undefined)\n            console.error(e)\n        }\n    }, [param.value, setDecodedData])\n    const selectSignature = useCallback(async (event: React.ChangeEvent<{ value: unknown }>) => {\n        const selectedSignature = event.target.value as string\n        setSelectedSignature(selectedSignature || \"\")\n        await loadDecodedData(selectedSignature)\n    }, [setSelectedSignature, loadDecodedData])\n    useEffect(() => {\n        // Intial load\n        const selectedSignature = param.signatures && param.signatures[0]\n        setSelectedSignature(selectedSignature || \"\")\n        setDecodedData(param.decoded)\n        setCollapsedValue(!!param.canCollapse && param.value.toString().length > 100)\n        if (!param.decoded && selectedSignature) loadDecodedData(selectedSignature)\n    }, [param, setSelectedSignature, loadDecodedData])\n    return (<>\n        <span>\n            {param.label !== undefined && (\n                <b>{param.label}</b>\n            )}\n            &nbsp;\n            {param.canCollapse !== undefined && (\n                <Link onClick={() => setCollapsedValue(!collapseValue)} color=\"inherit\">{ collapseValue ? \"Expand\" : \"Collapse\"}</Link>\n            )}\n        </span>\n        {param.value !== undefined && !hideValue && (\n            <span className={classes.values}>\n                {collapseValue ? param.value.toString().slice(0, 90) + \"...\" : param.value.toString()}\n            </span>\n        )}\n        {param.signatures && param.signatures.length > 1 && (\n            <FormControl className={classes.formControl}>\n                <InputLabel>Signature/ Encoding</InputLabel>\n                <Select value={selectedSignature} onChange={selectSignature}>\n                    {param.signatures.map((sig) => (<MenuItem value={sig}>{sig}</MenuItem>))}\n                </Select>\n            </FormControl>\n        )}\n        { decodedData && <DecodedData decoded={decodedData} />}\n    </>)\n}\n\nconst DecodedData: React.FC<Props> = ({ decoded }) => {\n    return (<Accordion >\n        <AccordionSummary>{decoded.label}</AccordionSummary>\n        <AccordionDetails>\n            {decoded.params.map(param => (<DecodedParam param={param} />)\n            )}\n        </AccordionDetails>\n    </Accordion >);\n}\n\nexport default DecodedData;\n","import React, { useCallback, useState, useEffect } from 'react';\nimport { TextField } from '@material-ui/core';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles, createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { DecodedParam } from './DecodedData';\nimport { DecodedValue, loadSignatures } from './utils/decoding';\nimport { useHistory, useLocation } from 'react-router';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    padding: \"4px\"\n  },\n  input: {\n    width: \"100%\"\n  }\n}));\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nfunction App() {\n  const history = useHistory()\n  const query = useQuery()\n  const classes = useStyles()\n  const [txData, setTxData] = useState(\"\")\n  const [dataInfo, setDataInfo] = useState<DecodedValue | undefined>(undefined)\n  const loadDataInfo = useCallback(async (data: string) => {\n    console.log(\"loadDataInfo\", data)\n    if (data.length < 10) {\n      setDataInfo(undefined)\n      return\n    }\n    try {\n      const signatures = await loadSignatures(data)\n      setDataInfo({\n        value: data,\n        signatures\n      })\n    } catch (e) {\n      setDataInfo(undefined)\n      console.error(e)\n    }\n  }, [setDataInfo])\n  const queryData = query.get(\"data\")\n  useEffect(() => {\n    console.log(\"Effect\", queryData)\n    if (queryData) {\n      loadDataInfo(queryData)\n    }\n  }, [queryData])\n  const updateTxData = useCallback(async (data: string) => {\n    setTxData(data)\n    history.replace({\n      pathname: '/',\n      search: '?data=' + data\n    })\n  }, [history])\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const theme = React.useMemo(() => createMuiTheme({\n    palette: {\n      type: prefersDarkMode ? 'dark' : 'light',\n      primary: blue,\n    },\n  }), [prefersDarkMode])\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <div className={classes.content}>\n        <h1>\n          Transaction decoder via <Link href=\"https://www.4byte.directory\" color=\"inherit\" target=\"_blank\">4byte.directory</Link>\n        </h1>\n        <TextField placeholder=\"Enter transaction data (e.g. 0x6a7612020000...)\" color=\"primary\" className={classes.input} value={txData} onChange={(e) => { updateTxData(e.target.value) }} />\n        <br />\n        <br />\n        { dataInfo && <DecodedParam param={dataInfo} hideValue={true} /> }\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, Switch, HashRouter as Router } from \"react-router-dom\"\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}